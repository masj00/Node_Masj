<script>
    import Child from "../Child/Child.svelte";

    const { parentName, children } = $props();

      const loveHistory = $state([
        { 
            name: "self-love",
            love: "ğŸ’"
    }]);

    function handleShowLove(childsName) {
        loveHistory.push({
            name: childsName,
            love: "ğŸ’"
        });
    }

    const cookieJar = $state(["ğŸª", "ğŸª", "ğŸª", "ğŸª", "ğŸª"]);
    const cookieHistory = $state([
        { 
            name: "",
            eat: ""
    }
    ]);

    function handleEatCookie(childsName) {
        cookieHistory.push({
            name: childsName,
            eat: "ate a cookie ğŸª"
        });
        cookieJar.pop();
    
    }

    // assignment: allow childen to eat a cookie from the jar
</script>

<h2>{parentName}</h2>

{#each loveHistory as love}
    <span>{love.name}: {love.love} </span>
{/each}

{cookieJar.length} cookies left in the jar 
{#each cookieHistory as cookie}
    <span>{cookie.name + " " + cookie.eat}: {cookie.cookie}</span>
{/each}


{#each children as child (child.name)}
<!-- hvis mange keys i child sÃ¥ brug ikke ...-->
    <Child {...child} onShowLove={handleShowLove} EatCookie={handleEatCookie}/>
{/each}